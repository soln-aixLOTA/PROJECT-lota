# Redis configuration optimized for caching
maxmemory-policy allkeys-lru
maxmemory 8gb

# Performance tuning
activerehashing yes
appendonly no
save ""
lazyfree-lazy-eviction yes
lazyfree-lazy-expire yes
lazyfree-lazy-server-del yes
replica-lazy-flush yes

# Connection tuning
timeout 0
tcp-keepalive 300
maxclients 10000

# Memory management
hash-max-ziplist-entries 512
hash-max-ziplist-value 64
list-max-ziplist-size -2
zset-max-ziplist-entries 128
zset-max-ziplist-value 64
set-max-intset-entries 512

# Snapshotting
stop-writes-on-bgsave-error no

# Replication
repl-diskless-sync yes
repl-diskless-sync-delay 5

# Latency monitoring
latency-monitor-threshold 100

# Defragmentation
activedefrag yes
active-defrag-ignore-bytes 100mb
active-defrag-threshold-lower 10
active-defrag-threshold-upper 100
active-defrag-cycle-min 1
active-defrag-cycle-max 25

# Security
rename-command FLUSHALL ""
rename-command FLUSHDB ""
rename-command DEBUG "" 